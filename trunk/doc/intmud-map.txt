Descrição das funções e variáveis dos arquivos intmud*.map


*** Salas

herda comum_sala
Funções e variáveis comuns de todas as salas.

listaobj dentro
Itens e personagens dentro da sala

const nome = "Cozinha"
Nome (título).

const descr = "Possui geladeira, fogão e pia."
Descrição.

ref norte
ref sul
ref leste
ref oeste
ref cima
ref baixo
Saídas. Salas ligadas a essa. Exemplo:
const norte = $casa1_cozinha

uint8 norte_ini
uint8 sul_ini
uint8 leste_ini
uint8 oeste_ini
uint8 cima_ini
uint8 baixo_ini
Estado inicial das saídas da sala:
0=nenhuma porta
1=nenhuma porta/invisível
2=aberta
3=fechada
4=trancada
5=trancada; se fechada é trancada
Exemplo:
const norte_ini = 2

uint8 norte_agora
uint8 sul_agora
uint8 leste_agora
uint8 oeste_agora
uint8 cima_agora
uint8 baixo_agora
Estado atual das saídas. Toda sala possui essas variáveis.
0=nenhuma porta
1=aberta
2=fechada
3=trancada

uint8 norte_chave
uint8 sul_chave
uint8 leste_chave
uint8 oeste_chave
uint8 cima_chave
uint8 baixo_chave
Número da chave para trancar e destrancar a porta.
Zero significa que não é necessário uma chave.

func iniclasse
Cria uma sala quando o MUD entra no ar.

func ini
Atualiza as saídas, se estão abertas/fechadas/trancadas.


*** Personagens e itens

const nome = "Anão"
Nome do item ou personagem.

const dpos = "Um anão está vagando aqui."
Descrição, quando está posição padrão na sala.

const dver = "Um pequeno anão bastante nervoso."
Descrição para o comando ver.

func dnome
Retorna a descrição do item ou personagem na sala.
Usa nome ou dnome, conforme a posição do personagem ou item.

const alias = "anão"
Nomes que o usuário digita para acessar o personagem ou item.

const sexo = "o"
"o" se for masculino ou "a" se for feminino

const sala
Sala do personagem ou dono do item.

listaobj dentro
Itens que o personagem possui (está carregando, empunhando, vestindo, etc.).
Itens dentro do item (ex. uma bolsa pode conter um pão).

int1 invis
Se está invisível.


*** Personagens

herda comum_perso
Funções e variáveis comuns de todos os personagens.

const perso = 1
Indica que é personagem.

uint8 posicao
Posição atual. Os valores possíveis são:
0=morto
1=mortalmente ferido
2=incapacitado
3=fraco
4=dormindo
5=descansando
6=sentado
7=lutando
8=em pé

int1 invisver
Se pode ver itens e personagens invisíveis.

func escr
Executado quando o personagem escreve alguma coisa.

func descrsala
Mostra descrição de um lugar.
