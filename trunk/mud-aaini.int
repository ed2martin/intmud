classe a_ini
herda area
const a_nome = "Área inicial"


classe b_ini
herda sala
const s_terreno = 1


classe s_ini001
herda b_ini
const s_titulo = "Salão de espera"
const s_desc = "O chão está coberto por uma nuvem branca, de modo que você não consegue\n\
ver onde pisa. Para todos os outros lugares que você olha, só vê o azul\n\
celeste do céu. Há bastante luz, como se fosse 5 horas da tarde, porém\n\
não há nenhum sol ou algo que produza luz."
const s_pacifico = 1
inttempo espera

func entrou
  espera = 10

func espera_exec
  listaitem item
  item = dentro2.ini
  enquanto item
    ref r
    r = item.obj, item.depois
    se r.vida < r.vidamax / 2
      r.vida += 1, espera = 10
    senao
      r.mudasala(config:salaini)
    fimse
  efim


classe s_ini002
herda b_ini
const s_titulo = "Sala ampla"
const s_desc = "Você está em uma sala bastante ampla de uma casa, dizem ser mal assombrada.\n\
Há janelas mas é alto demais para pular. Há também um corredor a leste\n\
e uma passagem ao norte."
const dir_l = $s_ini004
const dir_n = $s_ini003
const tipoini_n = 2


classe s_ini003
herda b_ini
const s_titulo = "Passagem"
const s_desc = "Um pequeno quarto escuro, que deveria levar a algum lugar, mas você não vê\n\
nenhuma saída. As paredes estão cinzas de sujeira e há teias de aranha\n\
por toda parte. Nota-se que ninguém vem aqui há anos."
const dir_s = $s_ini002
const tipoini_s = 2


classe s_ini004
herda b_ini
const s_titulo = "Corredor"
const s_desc = "Você está em um corredor que se estende a oeste. Mais adiante há uma\n\
sala bastante ampla. À leste há uma escada para o andar de baixo."
const dir_s = $s_ini005
const dir_o = $s_ini002

func entrou10
  arg0.msg("Alguém disse bom dia")

func ini
  sala:ini
  criar("i_borracha", este)
  ref r
  r = criar("p_anao", este)
  r.nivel = 1


classe s_ini005
herda b_ini
const s_titulo = "Sala de estar"
const s_desc = "Você está em uma pequena sala com mesa, poltronas e uma televisão. Pode\n\
ir para a cozinha à oeste ou a sala de jantar ao norte. Há também um\n\
corredor estreito para leste e uma escada para o andar de cima, ao sul."
const dir_n = $s_ini004
const dir_l = $s_ini006

func entrou2
  arg0.msg("Aqui você pode salvar o personagem teclando salvar")

func evescr
  se arg1 == "salvar"
    arg0.mudasenha # Muda a senha
    ret 1
  fimse
  ret


classe s_ini006
herda b_ini
const s_titulo = "Forno microondas"
const s_desc = "Misteriosamente você acaba de entrar em um forno de microondas.\n\
Há um copo de leite gigante aqui. A tampa é tão pesada que não é possível\n\
saber se está fechada ou trancada. De repente apareceu alguém lá fora e\n\
apertou alguns botões. Está ficando quente, muito quente. Você desmaia."
const s_morre = 1
const dir_o = $ini005
